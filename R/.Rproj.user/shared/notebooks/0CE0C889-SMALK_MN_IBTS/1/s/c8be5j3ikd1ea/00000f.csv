"0","###autre méthode"
"0","tableau_espece_cohorte_FM <- aggregate(CANoAtLngt ~ Species + Cohorte + Sex, data = tableau_donnees_especes, FUN = sum) #on aggrègue par sexe, cohorte et espèce et on fait une sommes sur CANoAtLngt"
"0","tableau_espece_cohorte_FM <- tableau_espece_cohorte_FM[order(tableau_espece_cohorte_FM$Cohorte),] #on ordonne le tableau par rapport à la colonne cohorte"
"0",""
"0","#on créer deux colonnes F et M (pour Femelle et Male qui contiennent pour chaque ligne l'effectif (CANoAtLngt)) avec la fonction pivot_wider (il existe aussi une fonction pivot_longer pour assembler plusieurs colonnes dans une seule) : nécessite la librairie tidyverse"
"0","tableau_espece_cohorte_F_M <- tableau_espece_cohorte_FM %>% "
"0","  pivot_wider(names_from = Sex, values_from = CANoAtLngt) #j'ai créer un nouveau tableau nommer F_M pour indiquer qu'il y a une colonne par sexe"
"0",""
"0","#Remplacer les Na par des 0"
"0","tableau_espece_cohorte_F_M$F[is.na(tableau_espece_cohorte_F_M$F)] <- 0"
"0","tableau_espece_cohorte_F_M$M[is.na(tableau_espece_cohorte_F_M$M)] <- 0"
"0",""
"0","#renommer les colonnes pour éviter les confusions avec FALSE"
"0","names(tableau_espece_cohorte_F_M)[names(tableau_espece_cohorte_F_M) == ""F""] <- ""Femelles"""
"0","names(tableau_espece_cohorte_F_M)[names(tableau_espece_cohorte_F_M) == ""M""] <- ""Males"""
"0",""
"0","#Calcul du SR"
"0","tableau_espece_cohorte_SR <- mutate(tableau_espece_cohorte_F_M, SR = Males/(Femelles + Males)) "
"0",""
"0","#Figures du SR en fonction des cohortes "
"0","ggplot(tableau_espece_cohorte_SR, aes(x = Cohorte, y = SR)) +"
"0","  geom_point() + "
"0","  geom_line() +"
"0","  facet_wrap(~Species, scales = ""free_x"", ncol = 3)"
